var greeting = "Hello, World!";

print greeting;

greeting = "what is this";

var count = 0;

var startTime = clock();

print "Counting from 0 to 5:";
while (count <= 5) {
    print count;
    count = count + 1;
}

var endTime = clock();

print "difference is " + (endTime - startTime);

print "Multiples of 2 up to 10:";

for (var i = 2; i <= 10; i = i + 2) {
    print i;
}

var sum = 0;
for (var j = 1; j <= 10; j = j + 1) {
    sum = sum + j;
}

print "Sum of 1 to 10:";
print sum;

var result = (10 + 5) * 2;
if (result > 20) {
    print "Result is greater than 20!";
} else {
    print "Result is 20 or less.";
}

fun sayHi(first, last) {
  print "Hi, " + first + " " + last + "!";
}

sayHi("Dear", "Reader");

fun fib(n) {
  if (n <= 1) return n;
  return fib(n - 2) + fib(n - 1);
}

for (var i = 0; i < 20; i = i + 1) {
  print fib(i);
}

fun count(n) {
  while (n < 100) {
    if (n == 3) return n; // <--
    print n;
    n = n + 1;
  }
}

count(1);

fun makeCounter() {
  var i = 0;
  fun count() {
    i = i + 1;
    print i;
  }

  return count;
}

var counter = makeCounter();
counter();
counter();

var a = "global";
{
  fun showA() {
    print a;
  }

  showA();
  a = a + "24423423";
  showA();
}

{
  var a = 12312;
}

class Thing {
  getCallback() {
    fun localFunction() {
      print this;
    }

    return localFunction;
  }
}

var callback = Thing().getCallback();
callback();

class Foo {
  init() {
    return;
  }
}

var bar = Foo();

print bar;

class Person {
  init(name, age) {
    this.name = name;
    this.age = age;
  }

  greet() {
    print "Hello, I'm " + this.name + " and I'm " + this.age + " years old.";
  }

  haveBirthday() {
    this.age = this.age + 1;
    print this.name + " is now " + this.age + " years old!";
  }

  getInfo() {
    return this.name + " (" + this.age + ")";
  }
}

var alice = Person("Alice", 25);
var bob = Person("Bob", 30);

alice.greet();
bob.greet();

alice.haveBirthday();
print "Info: " + alice.getInfo();

// Field access
print "Bob's age: " + bob.age;
bob.age = 31;
bob.greet();